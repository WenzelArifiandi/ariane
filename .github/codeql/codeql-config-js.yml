# CodeQL Configuration for Enhanced Security Scanning

name: "Enhanced Security Scanning"

disable-default-queries: false

queries:
  - name: security-and-quality
    uses: security-and-quality
  - name: security-extended
    uses: security-extended

paths-ignore:
  - "node_modules/**"
  - "**/node_modules/**"
  - "site/node_modules/**"
  - "studio/node_modules/**"
  - "dist/**"
  - "**/dist/**"
  - ".vercel/**"
  - "**/.vercel/**"
  - ".astro/**"
  - "**/.astro/**"
  - ".next/**"
  - "**/.next/**"
  - "build/**"
  - "**/build/**"
  - "out/**"
  - "**/out/**"
  - "**/coverage/**"
  - "**/test/**"
  - "**/tests/**"
  - "**/spec/**"
  - "**/*.test.*"
  - "**/*.spec.*"
  - "**/*.min.js"
  - "**/*.min.mjs"
  - "**/vendor/**"
  - "**/*.bundle.js"
  - "**/*.bundle.mjs"
  - "**/chunks/**"
  - "**/static/**"
  - "**/tsconfig.json"
  - "**/*.d.ts"

# Include specific directories for scanning (but node_modules will still be excluded)
paths:
  - "studio/src/**"
  - "studio/schemas/**"
  - "studio/api/**"
  - "studio/actions/**"
  - "studio/components/**"
  - "site/src/**"
  - "site/public/scripts/**"
  - "scripts/**"
  
  - "zitadel/**/*.js"
  - "*.js"
  - "*.mjs"
  - "*.ts"

# Specific query configurations
query-filters:
  # Disable noisy queries that might not be relevant
  - include:
      tags:
        - security
        - correctness
  - exclude:
      tags:
        - experimental
        - statistical
