---
import Base from '../layouts/Base.astro'
import { client } from '../lib/sanity'
import groq from 'groq'

const linksQuery = groq`*[_type == "link"] | order(pin desc, label asc){ _id, label, url, category, pin }`
const links = await client.fetch(linksQuery)
---
<Base title="Links â€” Ariane" description="Curated links.">
  <h1 class="text-4xl font-semibold">Links</h1>
  {links?.length ? (
    <ul class="mt-8 grid gap-4 sm:grid-cols-2">
      {links.map((l: any) => (
        <li class="rounded-lg border p-4 hover:bg-neutral-50">
          <a class="font-medium underline" href={l.url} target="_blank" rel="noopener noreferrer">{l.label}</a>
          {l.category && <p class="text-sm text-neutral-500 mt-1">{l.category}</p>}
        </li>
      ))}
    </ul>
  ) : (
    <p class="mt-6 text-neutral-500">Add some <code>Link</code> docs in Studio to populate this page.</p>
  )}
</Base>