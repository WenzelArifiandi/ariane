---
import '../../styles/global.css'
import { client } from '../../lib/sanity'
import { allProjects } from '../../lib/queries'
import { urlFor } from '../../lib/sanity'

const projects = await client.fetch(allProjects)
---

<html lang="en">
  <head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Work â€” Ariane</title></head>
  <body class="min-h-dvh bg-white text-neutral-900 antialiased">
    <main class="mx-auto max-w-6xl px-6 py-16">
      <h1 class="text-4xl font-semibold">Work</h1>
      <ul class="mt-8 grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {projects.map((p) => (
          <li class="group">
            <a href={`/work/${p.slug}`} class="block">
              {p.hero && <img
                src={urlFor(p.hero).width(800).height(600).fit('crop').auto('format').url()}
                alt={p.hero.alt} loading="lazy" class="aspect-[4/3] w-full object-cover rounded-lg" />}
              <div class="mt-3">
                <h2 class="text-xl font-medium group-hover:underline">{p.title}</h2>
                {p.year && <p class="text-sm text-neutral-500">{p.year}</p>}
              </div>
            </a>
          </li>
        ))}
      </ul>
    </main>
  </body>
</html>